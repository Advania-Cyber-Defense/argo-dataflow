apiVersion: dataflow.argoproj.io/v1alpha1
kind: Pipeline
metadata:
  annotations:
    dataflow.argoproj.io/description: |
      This is an example of send and receive messages using HTTP.

      To receive a message, you must expose a HTTP endpoint on http://localhost:8080/messages. Each message will
      be passed as the body of a single HTTP POST request.

      To send a message, send a HTTP post to http://localhost:3569/messages.

      The image `argoproj/dataflow-runner` has a convenience `cat` sub-command that just copies the input to the output.
    dataflow.argoproj.io/name: Using HTTP for input and output
  creationTimestamp: null
  name: http
spec:
  steps:
  - container:
      args:
      - cat
      image: argoproj/dataflow-runner:latest
      in:
        http: {}
    name: main
    sinks:
    - kafka:
        topic: output-topic
    sources:
    - kafka:
        topic: input-topic
