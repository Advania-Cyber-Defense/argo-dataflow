apiVersion: dataflow.argoproj.io/v1alpha1
kind: Pipeline
metadata:
  annotations:
    dataflow.argoproj.io/description: |
      This example shows a example of having two nodes in a pipeline.

      While they read from Kafka, they are connected by a NATS Streaming subject.
    dataflow.argoproj.io/name: Two nodes pipeline
    dataflow.argoproj.io/test: "true"
  creationTimestamp: null
  name: two-node
spec:
  steps:
  - container:
      args:
      - cat
      image: quay.io/argoproj/dataflow-runner:latest
      in:
        http: {}
    name: a
    sinks:
    - stan:
        subject: a-b
    sources:
    - kafka:
        topic: input-topic
  - container:
      args:
      - cat
      image: quay.io/argoproj/dataflow-runner:latest
      in:
        http: {}
    name: b
    sinks:
    - kafka:
        topic: output-topic
    sources:
    - stan:
        subject: a-b
