apiVersion: dataflow.argoproj.io/v1alpha1
kind: Pipeline
metadata:
  name: example
spec:
  nodes:
    - name: a
      source:
        kafka:
          url: kafka-0.broker.kafka.svc.cluster.local:9092
          topic: my-topic
      from:
        http: { }
      image: argoproj/dataflow-cat:latest
      to:
        http: { }
      sink:
        bus:
          topic: x

    - name: b
      source:
        bus:
          topic: x
      from:
        http: { }
      image: argoproj/dataflow-cat:latest
      to:
        http: { }
      sink:
        kafka:
          url: kafka-0.broker.kafka.svc.cluster.local:9092
          topic: your-topic
